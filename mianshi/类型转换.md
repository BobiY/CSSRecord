### 类型转化(变量计算)

#### 1. 基础类型转换

**各基础类型之间的转换**

|值|转换为||||
|---|----|----|----|----|----|----|
||字符串|数字|布尔值|对象|
|undefined|"undefined"|NaN|false|throw Typeerror|
|null|"null"|0|false|throw Typeerror|
|true|"true"|1||new Boolean(true)|
|false|"false"|0||new Boolean(false)|
|""(空字符串)||0|false|new String("")|
|"1.2"(非空，数字)||1.2|true|new String("1.2")|
|"two"(非空，非数字)||NaN|true|new String("tow")|
|0|"0"||false|new Number(0)|
|NaN|"NaN"||fale|new Number(NaN)|
|1|"1"||true|new Number(1)|

原始值到对象之间的转换比较简单，分表调用 String(), Number(), Boolean() 构造函数，转换为它们各自的包装对象。

`undefined` 和 `null` 由于不存在构造函数，所以无法转换为对象。

#### 2. 转换和相等性

JS 中存在 “==” 和 “===” 两种相等性判断的运算符。它们对操作数的要求不尽相同。

1. 严格相等元运算符 “===”，首先计算操作数的值，然后比较两个值，中间没有任何的类型转换。  
**比较规则如下**

- 如果两个值类型不相同，则它们不相等。
- 如果两个值都是 null 或者 undefined，则两个值相等
- 如果两个值都是 true 或者 false，则两个值相等
- 如果其中有一个是 NaN，或者两个都是 NaN，则两个值不相等；NaN 和任何值都不相等，通过 x !== x 为 true ，可以判断出值是 NaN
- 如果值都为数字且值相等，则它们相等。0 和 -0 也相等。
- 如果两个引用值指向同一个对象，数组，函数，则两个值相等。否则不相等。即使两个对象有相同的属性，引用不同的对象，也不相同。
- 字符串严格相等的情况相对复杂，一般长度和内容完全相同的两个字符串就认为它们相同。

2. 相等运算符“==” 和恒等运算符类似，但是如果两个操作数的类型不同，会进行类型转换后在进行比较。

- 如果两个值的类型相同，则和上述严格相等的比较规则一致。如果严格相等，则它们相等。如果不严格相等，则它们不相等。
- 如果两个值的类型不同，“==” 运算符也可以认为它们相等。

    下面列出了一些比较规则：


    &emsp; 1. 如果一个值是 `null` , 另一个是 `undefined` , 则它们相等。  
    &emsp; 2. 如果一个值是数字，另一个值是字符串，则将字符串转换为数字，再进行比较。  
    &emsp; 3. 如果其中一个值是 true，则将转换为 1 再比较，为 false 是转换为 0 再进行比较。  
    &emsp; 4. 如果一个值为数字或者字符串，另一个值是对象，则调用 `toString()` 或者 `valueOf()` 转换为原始值再进行比较。


**注意**：一个值转换为另一个值不代表两个值相等。

#### 3. 显示类型转换

在 JS 中，等不使用 `new` 调用， `String()`, `Number()`, `Boolean()`, `Object()` 时，就会对传入的参数进行类型转换。  

**eg**
~~~
Number("p"); // NaN
~~~

*需要注意的是*

- 除了 `null` 和 `undefined` 之外的任何值都有 `toString()` 方法，得到的结果和 `String()` 方法的结果一致。
- 那 `null` 和 `undefined` 转换为对象会报错。但是 `Object()` 则会返回一个空对象，而不是报错。
- "+" 运算符如果一个操作数是字符串，则另一个也会转换成字符串。"!" 运算符会将操作数转换为布尔值。

#### 4. 对象转换为原始值

|值|转换为||||
|---|----|----|----|----|----|----|
||字符串|数字|布尔值|对象|
|[]|使用jion(",")|先转字符串，再转数字|true||

对于 `Object` 而言，转换为原始值都不是简单的转换过程，下面给出一些规则列表。

- 如果对象具有 `toString()` 方法，则调用这个方法。如果它返回一个原始值，则将这个字符串结果返回（如果不是字符串则转换为字符串）。
- 如果 `toString()` 方法返回的不是一个原始值，则调用 `valueOf()`,调用规则与 `toString()` 一样。
- 若 `toString()` 和 `valueOf()` 都不具备，则直接抛出异常错误。

对象到数字的转换和转为字符串不成有些许差别。转为数字时，先调用 `valueOf()` 再调用 `toString()`。 操作方法一致。 













